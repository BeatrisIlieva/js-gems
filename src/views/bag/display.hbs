{{#unless bagItems}}
  <div class="shopping-cart-title-container">
    <h4 class="shopping-cart-title">Your Bag Is Empty</h4>
    <div class="cart-img-container">
      <img
        class="cart-img"
        src="https://res.cloudinary.com/deztgvefu/image/upload/v1707645424/template_images/pink-shopping-bag-png_1_ppqpwi.webp"
        alt="image"
      />
    </div>
  </div>
{{else}}
  <div class="shopping-cart-title-container">
    <h4 class="shopping-cart-title">Your Bag</h4>
    <div class="cart-img-container">
      <img
        class="cart-img"
        src="https://res.cloudinary.com/deztgvefu/image/upload/v1707645424/template_images/pink-shopping-bag-png_1_ppqpwi.webp"
        alt="image"
      />
    </div>
  </div>
{{/unless}}
<section class="shopping-cart-wrapper">
  <div class="left-container">
    {{#if bagCountGreaterThanOne}}
      <h4 class="left-container-title">
        <i class="fa-solid fa-truck" style="color: #ffb7ce;"></i>
        Delivery ({{bagCount}}
        items)
      </h4>
    {{else}}
      <h4 class="left-container-title">
        <i class="fa-solid fa-truck" style="color: #ffb7ce;"></i>
        Delivery ({{bagCount}}
        item)
      </h4>
    {{/if}}

    <div class="left-subcontainer">
      {{#each bagItems}}
        <section class="jewelry-container">
          <div class="shopping-cart-image-container">
            <img
              class="shopping-cart-jewelry-img"
              src="{{jewelry.firstImageUrl}}"
              alt="{{jewelry.title}} image"
            />
          </div>
          <div class="jewelry-composition">
            <h6 class="composition-category">{{jewelry.category.title}}</h6>
            <h5 class="composition-title">{{jewelry.title}}</h5>
            <ul role="list">
              <li>
                {{#each jewelry.metals}}
                  <span class="composition-item">
                    {{#if this.caratWeight}}{{caratWeight}}ct.{{/if}}
                    {{kind.title}}{{#unless @last}},{{/unless}}
                  </span>
                {{/each}}
              </li>
              <li>

                {{#each jewelry.stones}}
                  <span class="composition-item">
                    {{#if this.caratWeight}}{{caratWeight}}ct.{{/if}}
                    {{color.title}}
                    {{kind.title}}{{#unless @last}},{{/unless}}
                  </span>
                {{/each}}
              </li>
              <li class="composition-item-size">
                <span>Size: {{size.measurement}} cm.</span>
              </li>
            </ul>
          </div>
          <div class="price-and-quantity">
            <p class="item-price">
              {{total}}
            </p>
            <div class="item-quantity">
              <form method="POST">
                <label>
                  <input
                    type="number"
                    class="quantity-field"
                    name="updatedQuantity"
                    value="{{quantity}}"
                    min="{{minQuantity}}"
                    max="{{maxQuantity}}"
                  />
                </label>
                <input type="hidden" name="bagItemId" value="{{bagItemId}}" />
                <button
                  type="submit"
                  name="update_quantity"
                  class="button hover filled_pink"
                >
                  <i class="fa-solid fa-pencil"></i>
                  Update
                </button>
              </form>
            </div>
          </div>
        </section>
      {{/each}}
    </div>
  </div>
  <div class="right-container">
    <div class="right-sticky">
      <h4 class="right-container-title">Order Summary</h4>
      <div class="right-subcontainer">
        <section class="order-summary-container">
          <div class="order-summary-items">
            <p class="subtotal">Subtotal</p>
            <p class="subtotal"><i
                class="fa-solid fa-euro-sign"
              ></i>{{subTotal}}</p>
          </div>
          <div class="order-summary-items">
            <p>Shipping</p>
            <p>Complimentary</p>
          </div>
          <hr class="seperation-line" />
          <div class="order-summary-items">
            <p class="subtotal">Total</p>
            <p class="subtotal"><i
                class="fa-solid fa-euro-sign"
              ></i>{{subTotal}}</p>
          </div>
          <div class="shopping-cart-checkout">
            <button class="button hover filled_green">
              <a href="/complete-order">
              <i class="fa-regular fa-credit-card"></i> Continue Checkout</a>
            </button>
          </div>
        </section>
      </div>
    </div>
  </div>
</section>